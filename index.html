<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja Sapato</title>
    <style>
        #carrinho{
            display: block;
        }
        #produtos{
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2%;
            display: flex;
        }
        .produto-single{
            width: 13.3%;
            padding: 0 2%;           
            height: 20%;
           

        }
        img{
            width: 100px;
            height: 150px;
            margin: 10px;
        }
    </style>



</head>
<body >



<div id="produtos">
    <h2>Vitrine</h2>


</div>

<h2>Carrinho</h2>
<div id="carrinho">

</div>
<div id="finalizarPedido" style="background-color: red;">

</div>
<div >
   <button onclick="Encerrar()">finalizar</button>
</div>
<!--<button onclick="Encerrar()">*/<a id="Finalizarpedido" href="https://web.whatsapp.com/send?phone5513988351976"  target="_blank"></a>  Fechar fecharPedido</button>-->
<!--<a   href="http://web.whatsapp.com/send?phone=5513988351976&text=fecharPedido " target="_blank" >test</a>-->












<script>
    var total = 0;
    var qntde = 0;
    var fecharPedido = 1;
   
    const items = [ {
        id: 0,
        nome:'Camiseta',
        img:'camiseta.jpg',
        descricao: ' camiseta preta',
        quantidade: 0,
        valor:300
    }, 
    {
        id: 1,
        nome: 'Short',
        img: 'short.jpg',
        descricao: ' Short laranja',
        quantidade: 0,
        valor:200
    },
    {
        id: 2,
        nome: 'Sapato',
        img: 'image.jpg',
        descricao: ' Sapato Preto',
        quantidade: 0,
        valor:100
    }]

    inicializarLoja = () => {
        var containerProdutos = document.getElementById('produtos');
        items.map((val) => {
            
            containerProdutos.innerHTML+= `     
            <div class="produto-single" >
            <img src="`+val.img+`" />
            <p style="color:blue" >`+val.nome+`<hr></p>
            <p>`+val.descricao+`</p>
            <p style="color:white;background:#ff00ff;text-align:center;border-radius:30px;">R$`+val.valor+`</p>
            <a key="`+val.id+`" href="#">Adicionar produto ao carrinho!</a>
                </div>
            `;
          //  console.log(val.nome);
        })
        

    }

    inicializarLoja();

    atualizarCarrinho= ()=>{
         var containerCarrinho = document.getElementById('carrinho');
         
         containerCarrinho.innerHTML="";
         items.map((val)=>{
             if(val.quantidade > 0){
               containerCarrinho.innerHTML+=
        ` <p >` + val.nome+ '<br>|valor:'+val.valor+`<br>|quantidade:`+val.quantidade+`<br> |&nbsp descrição: ` + val.descricao +`</p> <hr>`  
               
        }
        
    
        
              
         })
          
        // console.log(containerCarrinho.innerText)
         fecharPedido = containerCarrinho.innerText;
         
            }
            
                
            
    

    var links = document.getElementsByTagName('a');

    for(var i= 0; i <links.length; i++){
        links[i].addEventListener("click",function(){
            let key = this.getAttribute('key');
            items[key].quantidade++;
            atualizarCarrinho();
            return false
        })
        
    }
    function Encerrar(){
         console.log(fecharPedido)
         var finalizarPedido = document.getElementById('finalizarPedido')
        
     finalizarPedido.innerHTML = `<button><a   href='http://web.whatsapp.com/send?phone=5513988351976&text=`+fecharPedido+`' target="_blank" >Confirma</a</buton>`
     
     console.log(fecharPedido)
    }

   
</script>
</body>
</html>